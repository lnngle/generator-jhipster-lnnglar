<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.iocoder.yudao.module.system.dal.mysql.<%= entityClass %>Mapper">

    <select id="selectPage" resultType="cn.iocoder.yudao.module.system.dal.dataobject.<%= entityClass %>DO">
        SELECT
            id,
<% fields.forEach(function(field, index) { %>
            <%= field.columnName || field.name %>,<% }); %>
            create_time,
            update_time
        FROM system_<%= tableName %>
        <where>
            <if test="id != null">
                AND id = #{id}
            </if>
<% fields.forEach(function(field) { %>
<% if (field.searchable) { %>
            <if test="<%= field.name %> != null">
                AND <%= field.columnName || field.name %> = #{<%= field.name %>}
            </if><% } %>
<% if (field.name === 'name' || field.name === 'title') { %>
            <if test="name != null and name != ''">
                AND name LIKE concat('%', #{name}, '%')
            </if><% } %>
<% }); %>
            <if test="createTime != null">
                AND create_time BETWEEN #{createTime[0]} AND #{createTime[1]}
            </if>
        </where>
        ORDER BY id DESC
    </select>

</mapper>